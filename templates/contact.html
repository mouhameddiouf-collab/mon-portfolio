{% extends 'base.html' %}
{% load static %}

{% block title %}Contact – Mouhamed Diouf{% endblock %}

{% block content %}
<section id="contact-section" style="padding-top: 140px; padding-bottom: 80px;">
    <div class="container">
        
        <div class="text-center mb-5" data-aos="fade-down">
            <h2 class="section-title">INITIALISER LA <span class="highlight">COMMUNICATION</span></h2>
            <p style="color: #94a3b8; max-width: 500px; margin: 0 auto;">
                Un projet SIG ? Une analyse de données ? Ou simplement pour échanger ? 
                Le canal est ouvert.
            </p>
        </div>

        <div class="contact-grid">
            
            <div class="map-card" data-aos="fade-right">
                <div class="map-header">
                    <span class="status-dot blink"></span> Signal GPS : Dakar, Sénégal
                </div>
                <div id="map" class="custom-map"></div> 
                
                <div class="map-border-corner top-left"></div>
                <div class="map-border-corner top-right"></div>
                <div class="map-border-corner bottom-left"></div>
                <div class="map-border-corner bottom-right"></div>
            </div>

            <div class="form-card" data-aos="fade-left">
                
                <div class="contact-info-bar">
                    <a href="mailto:dioufmouhamed959@gmail.com" class="info-item">
                        <div class="icon-box"><i class="fas fa-envelope"></i></div>
                        <div>
                            <span class="label">Email</span>
                            <span class="value">dioufmouhamed959@gmail.com</span>
                        </div>
                    </a>
                    <a href="tel:+221776992733" class="info-item">
                        <div class="icon-box"><i class="fas fa-phone"></i></div>
                        <div>
                            <span class="label">Téléphone</span>
                            <span class="value">+221 77 699 27 33</span>
                        </div>
                    </a>
                </div>

                <hr style="border-color: rgba(255,255,255,0.1); margin: 30px 0;">

                <form method="post" class="tech-form">
                    {% csrf_token %}
                    
                    <div class="input-group">
                        <input type="text" name="nom" id="nom" required placeholder=" " autocomplete="off">
                        <label for="nom">Identifiant / Nom</label>
                        <span class="focus-border"></span>
                    </div>

                    <div class="input-group">
                        <input type="email" name="email" id="email" required placeholder=" " autocomplete="off">
                        <label for="email">Fréquence / Email</label>
                        <span class="focus-border"></span>
                    </div>

                    <div class="input-group">
                        <textarea name="message" id="message" rows="4" required placeholder=" "></textarea>
                        <label for="message">Transmission de données / Message</label>
                        <span class="focus-border"></span>
                    </div>

                    <button type="submit" class="btn-submit">
                        <span>ENVOYER LE MESSAGE</span>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>

        </div>
    </div>
</section>

<script>
    // Exemple basique si tu as besoin, sinon garde le tien !
    document.addEventListener('DOMContentLoaded', function() {
        if(document.getElementById('map')) {
            var map = L.map('map').setView([14.7167, -17.4677], 13); // Coordonnées Dakar
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                attribution: '©OpenStreetMap, ©CartoDB'
            }).addTo(map);
            L.marker([14.7167, -17.4677]).addTo(map)
                .bindPopup('Position Confirmée.<br> Mouhamed Diouf')
                .openPopup();
        }
    });
</script>
{% endblock %}